{"version":3,"sources":["webpack:///./src/app/photo/photo.component.ts","webpack:///./src/app/video/video.component.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/photo/photo.component.css","webpack:///./src/app/video/video.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/photo/photo.component.html","webpack:///./src/app/video/video.component.html"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["import { Component, OnInit, Output, EventEmitter, ViewChild } from '@angular/core';\nimport { VideoComponent } from '../video/video.component';\n\n@Component({\n  selector: 'app-photo',\n  templateUrl: './photo.component.html',\n  styleUrls: ['./photo.component.css']\n})\nexport class PhotoComponent implements OnInit {\n\n  age = \"Clicca sull'immagine per cominciare\";\n  description = \"no description\";\n  enableCapture = false;\n  log = \"\";\n  faces = {};\n  faceToPerson = {};\n  public cams: any[] = [];\n\n  @ViewChild(VideoComponent)\n  public videoComponent: VideoComponent;\n\n  constructor() { }\n\n  evaluateAge() {\n    const SIRE = \"Michele Bersini\";\n    //const SIRE = \"Tommaso Tosi\";\n    const component = this;\n    const c1 = \"Cercando...(clicca sull'immagine per mettere in pausa)\";\n    const c2 = \"In pausa(clicca sull'immagine per ricominciare)\";\n    this.age = this.enableCapture ? c1 : c2;\n    if (this.enableCapture) {\n      var faceIds: String[] = [];\n      const video = <any>document.getElementsByTagName('video')[0];\n      this.log = \"video\";\n      const canvas = <any>document.getElementsByName('canvas')[0];\n      this.log += \"->canvas\";\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      this.log += \"->sizes\";\n      var context = canvas.getContext('2d');\n      //canvas.getContext('2d').drawImage(video, 0, 0);\n      if (this.detectmob()) {\n        //var deg = Number(window.orientation);\n        context.save();\n        context.scale(1, -1);\n        context.drawImage(video, 0, 0, canvas.width, -1 * canvas.height);\n        context.restore();\n\n      } else {\n        context.drawImage(video, 0, 0);\n      }\n      this.log += \"->context\";\n      const size = this.dataURItoBlob(canvas.toDataURL('image/jpeg', 1)).size;\n      this.log += \"->size\";\n      const rapp = Math.min(153600 / size,1);\n      //const rapp=1;\n      this.log += \"->rapp\";\n      this.log += size + \" \" + rapp;\n      //console.log(size*rapp);\n      var image = canvas.toDataURL('image/jpeg', rapp);\n      const testCanvas = <any>document.getElementById('testCanvas');\n      var img = new Image;\n      img.src = image;\n      img.onload = function () {\n        testCanvas.getContext('2d').drawImage(img, 0, 0);\n        //component.log= \"\"+window.orientation;\n      };\n\n      component.log += \"->draw\";\n\n      if (size > 0) {\n        this.analyzeImage(image).then(imageAge => {\n          component.log += \"->ANALYZED\";\n          this.clearCanvas();\n          const vCanvas = <any>document.getElementsByName('videoCanvas')[0];\n          if (Object.keys(imageAge[0]).length > 0) {\n            this.log = video.height + \"x\" + video.width + \" c:\" + vCanvas.height + \"x\" + vCanvas.width + \" \" +\n              imageAge[0].faceRectangle.width;\n          } else {\n            this.log = \"no rectangles.....\";\n          }\n\n          const ctx = vCanvas.getContext('2d');\n          //ctx\n          ctx.strokeStyle = \"#FF0000\";\n          const fs = video.width / 20;\n          ctx.font = fs + \"px Georgia\";\n          ctx.fillStyle = \"#FF0000\";\n          var resize = Math.min(video.videoWidth / video.width, video.videoHeight / video.height);\n          var arr = Object.keys(imageAge).map(function (key) { return imageAge[key]; });\n          arr.forEach(function (element) {\n            var faceId = element.faceId;\n            console.log(faceId);\n            faceIds[faceIds.length] = faceId;\n          });\n\n          //console.log(faceIds);\n          component.identifyPersonId(faceIds).then(() => {\n            arr.forEach(function (element) {\n              console.log(element);\n              //faceIds.concat(faceId);\n              var faceId = element.faceId;\n              var name = element.name;\n              var age = element.faceAttributes.age;\n              var smile = element.faceAttributes.smile;\n              var facialHair = element.faceAttributes.facialHair;\n              var glasses = element.faceAttributes.glasses.toLowerCase();\n              var scores = element.scores;\n              const emotionMapping = {\n                \"anger\": \"arrabbiato\",\n                \"contempt\": \"contento\",\n                \"disgust\": \"disgustato\",\n                \"fear\": \"spaventato\",\n                \"happiness\": \"felice\",\n                \"neutral\": \"neutro\",\n                \"sadness\": \"triste\",\n                \"surprise\": \"sorpreso\",\n                \"libero\": \"libero professionista\"\n              };\n              if (name === SIRE) {\n                age = \"Senza EtÃ \";\n                scores.libero = 1000;\n                name = \"Mio Sire\";\n              }\n\n              const rect = element.faceRectangle;\n              const left = (rect.left + rect.width) / resize;\n              var top = (rect.top /*+ rect.height*/) / resize;\n              ctx.strokeRect(rect.left / resize, rect.top / resize, rect.width / resize, rect.height / resize);\n\n              var text;\n              if (isNaN(age)) {\n                text = age;\n              } else {\n                text = age + \" anni, \";\n              }\n              //var text = age + \" anni, \";// +\n\n              ctx.fillText(text, left, top);\n              top += 1.3 * fs;\n\n\n              var max = Math.max.apply(null, Object.keys(scores).map(function (x) { return scores[x]; }));\n              text = (Object.keys(scores).filter(function (x) { return scores[x] === max; })[0]);\n              ctx.fillText(emotionMapping[text], left, top);\n              top += 1.3 * fs;\n\n              text = (facialHair.beard >= 0.2 ? \"barba \" : \"\") +\n                (facialHair.moustache >= 0.2 ? \"baffi \" : \"\");\n              ctx.fillText(text, left, top);\n              top += 1.3 * fs;\n\n              switch (glasses) {\n                case \"noglasses\":\n                  text = \"Non porti gli occhiali\";\n                  break;\n                case \"readingglasses\":\n                  text = \"Occhiali da lettura\";\n                  break;\n                case \"sunglasses\":\n                  text = \"Occhiali da sole\";\n                  //text=\"Spacciatore\";\n                  break;\n                default:\n                  text = \"\";\n              }\n              ctx.fillText(text, left, top);\n              console.log(name);\n              if (element.name) {\n                console.log(\"name\");\n                top += 1.3 * fs;\n                text = name;\n                ctx.fillText(text, left, top);\n              }\n\n            });\n\n          });\n\n          setTimeout(() => this.evaluateAge(), 3000);\n        }, (error) => {\n          setTimeout(() => this.evaluateAge(), 3000);\n\n        });\n\n      } else {\n        this.log = \"SIZE ZERO\";\n        setTimeout(() => this.evaluateAge(), 1000);\n      }\n\n    }\n  }\n\n  onClick() {\n    this.enableCapture = !(this.enableCapture);\n    this.evaluateAge();\n  }\n\n  onResize() {\n    console.log(\"resize\");\n    const video = <any>document.getElementsByTagName('video')[0];\n    const canvas = <any>document.getElementsByName('videoCanvas')[0];\n    video.width = parent.innerWidth / 2;\n    var ratio = video.videoHeight / video.videoWidth;\n    video.height = video.width * ratio;\n    canvas.height = video.height;\n    canvas.width = video.width * 2;\n\n\n    const tCanvas = <any>document.getElementById('testCanvas');\n    tCanvas.width = video.videoWidth;\n    tCanvas.height = video.videoHeight;\n\n    this.cams = this.videoComponent.cams;\n\n    //this.log = video.height + \"x\" + video.width + \" c:\" + canvas.height + \"x\" + canvas.width;\n  }\n\n  analyzeImage(stream: any) {\n    var delay = 1000;\n    const blob = this.dataURItoBlob(stream);\n    //var finalresponse = {};\n    //var comp = this;\n    this.computerVision(blob).then(captions => {\n      this.description = captions[0].text;\n    });\n    //this.identifyPerson(blob);\n    return new Promise(\n      (resolve, reject) => {\n        this.getAgeFromImage(blob).then(faces => {\n          this.faces = faces;\n          delay = 0;\n          //resolve(faces);\n        }, (error) => {\n          console.log(error);\n        });\n\n        setTimeout(() => {\n          this.getEmotionFromImage(blob).then(emotions => {\n\n            if (Object.keys(this.faces).length === 0) {\n              //this.faces = emotions;\n              reject(new Error('fail'));\n            } else {\n              this.faces = this.addEmotionToFace(this.faces, emotions);\n              resolve(this.faces);\n            }\n            this.log += \"\" + delay + \" \" + Object.keys(this.faces).length + \" \";\n            console.log(this.log);\n\n          }, (error) => {\n            console.log(error);\n          });\n        }, delay);\n\n\n      });\n  }\n\n  getAgeFromImage(blob: any) {\n    return new Promise(\n      (resolve, reject) => {\n        const faceApiUrl = [\n          'https://westus.api.cognitive.microsoft.com/face/v1.0/detect?',\n          'returnFaceId=true',\n          'returnFaceLandmarks=false',\n          'returnFaceAttributes=age,smile,facialHair,glasses'\n        ].join('&');\n\n        const emotionApiUrl = 'https://westus.api.cognitive.microsoft.com/emotion/v1.0/recognize?';\n\n        var xhrface = new XMLHttpRequest();\n        xhrface.open('POST', faceApiUrl, true);\n        xhrface.setRequestHeader('content-type', 'application/octet-stream');\n        xhrface.setRequestHeader('Ocp-Apim-Subscription-Key', \"6e2715cbea564f4f95f9a097e935e8c7\");\n\n        xhrface.onreadystatechange = function () {\n          if (xhrface.readyState === 4) {\n            if (xhrface.status === 200) {\n              //var resp = JSON.parse(xhrface.response);\n              //console.log(this);\n              var resp = JSON.parse(xhrface.response);\n              resolve(resp);\n            } else {\n              reject(new Error('fail'));\n            }\n          }\n        };\n        xhrface.send(blob);\n      });\n  }\n\n  getEmotionFromImage(blob: any) {\n    return new Promise((resolve, reject) => {\n      const emotionApiUrl = 'https://westus.api.cognitive.microsoft.com/emotion/v1.0/recognize?';\n\n      var xhremotion = new XMLHttpRequest();\n      xhremotion.open('POST', emotionApiUrl, true);\n      xhremotion.setRequestHeader('content-type', 'application/octet-stream');\n      xhremotion.setRequestHeader('Ocp-Apim-Subscription-Key', \"81f079954302459e904d8c98d06263b1\");\n      xhremotion.onreadystatechange = function () {\n        if (xhremotion.readyState === 4) {\n          if (xhremotion.status === 200) {\n            //console.log(this);\n            var resp = JSON.parse(xhremotion.response);\n            resolve(resp);\n          } else {\n            reject(new Error('fail'));\n          }\n        }\n      };\n      xhremotion.send(blob);\n    });\n  }\n\n\n  computerVision(blob: any) {\n\n    return new Promise((resolve, reject) => {\n      const visionApiUrl = 'https://westus.api.cognitive.microsoft.com/vision/v1.0/analyze?visualFeatures=Description';\n\n      var xhrvision = new XMLHttpRequest();\n      xhrvision.open('POST', visionApiUrl, true);\n      xhrvision.setRequestHeader('content-type', 'application/octet-stream');\n      xhrvision.setRequestHeader('Ocp-Apim-Subscription-Key', \"b10fb5b057fe4f9cbeac59dcf0f5727f\");\n\n      xhrvision.onreadystatechange = function () {\n        if (xhrvision.readyState === 4) {\n          if (xhrvision.status === 200) {\n            //console.log(this);\n            var resp = JSON.parse(xhrvision.response);\n            //console.log(resp.description.captions[0].text);\n            resolve(resp.description.captions);\n          } else {\n            console.log(xhrvision.status);\n          }\n        }\n      };\n      xhrvision.send(blob);\n    });\n  }\n  dataURItoBlob(dataURI: String) {\n    var byteString = atob(dataURI.split(',')[1]);\n    var ab = new ArrayBuffer(byteString.length);\n    var ia = new Uint8Array(ab);\n    for (var i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([ab], { type: 'image/jpeg' });\n  }\n\n  ngOnInit() { }\n\n  ngAfterViewInit() {\n   /* var interval = setInterval(() => {\n      this.onResize();\n      const video = <any>document.getElementsByTagName('video')[0];\n      console.log(\"gira\");\n      if (video.height > 0) {\n        clearInterval(interval);\n        console.log(\"stop\");\n      }\n    }, 100);*/\n  }\n\n  addEmotionToFace(faces: any, emotions: any) {\n    /*console.log(faces);\n    console.log(emotions);*/\n    var final = faces;\n    var arrF = Object.keys(faces).map(function (key) { return faces[key]; });\n\n    arrF.forEach(function (face) {\n      var top = face.faceRectangle.top;\n      var left = face.faceRectangle.left;\n      var min = 10000;\n      var arrE = Object.keys(emotions).map(function (key) { return emotions[key]; });\n      arrE.forEach(function (emotion) {\n        var topE = emotion.faceRectangle.top;\n        var leftE = emotion.faceRectangle.left;\n        var dist = Math.sqrt(Math.pow(top - topE, 2) + Math.pow(left - leftE, 2));\n        if (dist < min) {\n          face.scores = emotion.scores;\n        }\n      });\n    });\n    return final;\n  }\n\n  addFaceToEmotion(emotions: any, faces: any) {\n    var final = this.addEmotionToFace(faces, emotions);\n    return final;\n  }\n\n  videoButtonClick(event: String) {\n    this.clearCanvas();\n    this.onResize();\n    // console.log(\"EVENT \"+event);\n    if (event === \"stop\") {\n      this.enableCapture = false;\n    }\n    /*else{\n      this.enableCapture=true;\n      this.evaluateAge();\n    }*/\n  }\n\n  clearCanvas() {\n    const vCanvas = <any>document.getElementsByName('videoCanvas')[0];\n    const ctx = vCanvas.getContext('2d');\n    ctx.clearRect(0, 0, vCanvas.width, vCanvas.height);\n  }\n\n  identifyPersonId(faceIds: any) {\n    const component = this;\n\n    return new Promise((resolve, reject) => {\n      const faceApiUrl = [\n        'https://westus.api.cognitive.microsoft.com/face/v1.0/identify?'\n      ].join('&');\n      var groupId = 'zerouno';\n\n      const postData = {\n        \"personGroupId\": groupId,\n        \"faceIds\": faceIds,\n        \"maxNumOfCandidatesReturned\": 1,\n        \"confidenceThreshold\": 0.1\n      };\n\n\n      var xhrface = new XMLHttpRequest();\n      xhrface.open('POST', faceApiUrl, true);\n      xhrface.setRequestHeader('content-type', 'application/json');\n      xhrface.setRequestHeader('Ocp-Apim-Subscription-Key', \"6e2715cbea564f4f95f9a097e935e8c7\");\n\n      xhrface.onreadystatechange = function () {\n        if (xhrface.readyState === 4) {\n          if (xhrface.status === 200) {\n            var resp = JSON.parse(xhrface.response);\n            var count = 0;\n            //console.log(resp);\n            resp.forEach(function (element: any) {\n              count++;\n              component.getPersonByPersonId(element.candidates[0].personId).then((r) => {\n                //console.log(r['userData']);\n                component.faceToPerson[element.faceId] = r['name'];\n                var arr = Object.keys(component.faces).map(function (key) { return component.faces[key]; });\n                arr.forEach(function (face) {\n                  if (face.faceId === element.faceId) {\n                    face.name = r['name'];\n                  }\n                  if (count === resp.length) {\n                    resolve(resp);\n                  }\n                });\n                //console.log(component.faces);\n              });\n\n            });\n            //console.log(component.faceToPerson);\n            //resolve(resp);\n          } else {\n            resolve(xhrface.status);\n          }\n        }\n\n        if (xhrface.status === 400) {\n          resolve({});\n        }\n      };\n      xhrface.send(JSON.stringify(postData));\n    });\n  }\n\n  getPersonByPersonId(personId: any) {\n    const component = this;\n    return new Promise((resolve, reject) => {\n      const faceApiUrl = [\n        'https://westus.api.cognitive.microsoft.com/face/v1.0/persongroups',\n        'zerouno',\n        'persons',\n        personId\n      ].join('/');\n      var groupId = 'zerouno';\n\n      var xhrface = new XMLHttpRequest();\n      xhrface.open('GET', faceApiUrl, true);\n      //xhrface.setRequestHeader('content-type', 'application/json');\n      xhrface.setRequestHeader('Ocp-Apim-Subscription-Key', \"6e2715cbea564f4f95f9a097e935e8c7\");\n\n      xhrface.onreadystatechange = function () {\n        if (xhrface.readyState === 4) {\n          if (xhrface.status === 200) {\n            var resp = JSON.parse(xhrface.response);\n            //console.log(resp);\n            resolve(resp);\n          } else {\n            resolve(xhrface.status);\n          }\n        }\n      };\n      xhrface.send();\n    });\n\n  }\n\n  detectmob() {\n    if (navigator.userAgent.match(/Android/i)\n      || navigator.userAgent.match(/webOS/i)\n      || navigator.userAgent.match(/iPhone/i)\n      || navigator.userAgent.match(/iPad/i)\n      || navigator.userAgent.match(/iPod/i)\n      || navigator.userAgent.match(/BlackBerry/i)\n      || navigator.userAgent.match(/Windows Phone/i)\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  public selectSource(source: any) {\n    this.log = source;\n    console.log(\"AAAAAAAAA\" + source);\n    this.videoComponent.selectSource(source);\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/photo/photo.component.ts","import { Component, OnInit, ViewChild, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-video',\n  templateUrl: './video.component.html',\n  styleUrls: ['./video.component.css']\n})\n\nexport class VideoComponent implements OnInit {\n\n  @Output() stop: EventEmitter<string> = new EventEmitter<string>();\n  @Output() ready: EventEmitter<string> = new EventEmitter<string>();\n\n  public cams: any[] = [];\n  vid = {};\n  localstream: MediaStream;\n  bottone = \"Ferma il Video\";\n  icona = \"pause\";\n  selectValue = \"\";\n\n  constructor() { }\n\n  selectSource(source: any) {\n    console.log(source);\n    //var videoSelect = (<any>document.getElementsByName(\"videoSelect\")[0]);\n    //console.log(videoSelect);\n    var videoSource = source;\n    this.vid = \"\" + (source);\n    console.log(\"vid: \" + this.vid);\n    //var constraints  = { video: { deviceId: { exact: videoSource } } };\n    var constraints = { video: { deviceId: videoSource } };\n    this.stopStream();\n    setTimeout(this.startStream(constraints), 150);\n  }\n\n  @ViewChild('video') video: any;\n  // note that \"#video\" is the name of the template variable in the video element\n\n  ngAfterViewInit() {\n    var constraints = { video: true };\n    //FIXME\n    //var videoSource = this.videoSelect.value;\n    //var constraints = { video: { deviceId: { exact: videoSource } } }\n    this.startStream(constraints);\n  }\n\n  onClick() {\n    let _video = this.video.nativeElement;\n    var videoSelect = (<HTMLSelectElement>document.getElementsByName(\"videoSelect\")[0]);\n    var videoSource = videoSelect.value;\n    console.log(videoSource);\n    var constraints = { video: { deviceId: { exact: videoSource } } };\n    if (!_video.paused) {\n      this.stopStream();\n      this.bottone = \"Avvia il Video\";\n      this.icona = \"play_arrow\";\n      this.stop.emit(\"stop\");\n    } else {\n      this.startStream(constraints);\n      this.bottone = \"Ferma il Video\";\n      this.icona = \"pause\";\n      this.stop.emit(\"start\");\n    }\n  }\n\n  startStream(constraints: any) {\n    let component = this;\n    let _video = this.video.nativeElement;\n    /*let nav = <any>navigator;\n    nav.getUserMedia = nav.getUserMedia || nav.mozGetUserMedia || nav.webkit.GetUserMedia;*/\n    //if(navigator.mozGetUserMedia)\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n      navigator.mediaDevices.getUserMedia(constraints)\n        .then(stream => {\n          _video.src = window.URL.createObjectURL(stream);\n          console.log(_video.src);\n          this.localstream = stream;\n          _video.load();\n          _video.onplaying = function () {\n            component.ready.emit(\"ready\");\n          }\n\n        });\n    }\n  }\n\n  stopStream() {\n    let _video = this.video.nativeElement;\n    //console.log(this.localstream);\n    if (!_video.paused) {\n      console.log(\"not paused\");\n      _video.pause();\n      _video.src = \"\";\n      this.localstream.getTracks().forEach((track) => {\n        track.stop();\n      });\n    }\n    console.log(\"Video off\");\n  }\n\n\n  enumerate() {\n    let component = this;\n    navigator.mediaDevices.enumerateDevices()\n      .then(gotDevices)\n      .catch(errorCallback);\n    const videoSelect = (<HTMLSelectElement>document.getElementsByName(\"videoSelect\")[0]);\n\n\n    function gotDevices(deviceInfos: any) {\n      for (var i = 0; i !== deviceInfos.length; ++i) {\n        var deviceInfo = deviceInfos[i];\n        //var option = <HTMLOptionElement>document.createElement('md-option');\n        //var option = {value : deviceInfo.deviceId };\n        //option.value = deviceInfo.deviceId;\n        if (deviceInfo.kind === 'videoinput') {\n          let newvalue = deviceInfo.deviceId;\n          let newviewValue = deviceInfo.label || 'Camera ' + (component.cams.length + 1);\n          var option = { value: newvalue, viewValue: newviewValue };\n          component.cams.push(option);\n          //let select = document.getElementsByName(\"videoSelect\")[0];\n          //videoSelect.appendChild(option);\n        }\n      }\n    }\n\n    function errorCallback(error: any) {\n      console.log(error);\n    }\n  }\n\n  ngOnInit() {\n    this.enumerate();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/video/video.component.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 459;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 459\n// module chunks = 1","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { PhotoComponent } from './photo/photo.component';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  name = 'Angular';\r\n  text = \"Clicca per cominciare!\";\r\n  btnState = false;\r\n  icona = \"play_arrow\";\r\n  menubtns: any[] = [];\r\n\r\n  @ViewChild(PhotoComponent)\r\n  public photoComponent: PhotoComponent;\r\n\r\n  onClick() {\r\n    this.btnState = !this.btnState;\r\n    this.text = this.btnState ? \"Clicca per mettere in pausa!\" : \"Clicca per ricominciare!\";\r\n    this.icona = this.btnState ? \"pause\" : \"play_arrow\";\r\n    console.log(this.text);\r\n\r\n\r\n  }\r\n\r\n  updateMenu() {\r\n    this.menubtns = this.photoComponent.cams;\r\n    console.log(this.menubtns);\r\n  }\r\n\r\n  selectSource(source: any) {\r\n    this.photoComponent.selectSource(source);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { NgModule }      from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { MaterialModule } from '@angular/material';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { AppComponent }  from './app.component';\r\nimport { PhotoComponent } from './photo/photo.component';\r\nimport { VideoComponent } from './video/video.component';\r\n\r\n@NgModule({\r\n  imports:      [ BrowserModule, FormsModule, MaterialModule ],\r\n  declarations: [ AppComponent, PhotoComponent, VideoComponent ],\r\n  bootstrap:    [ AppComponent ]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","module.exports = \".toolbar-button{\\r\\n   position: absolute; \\r\\n   right: 5%;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 761\n// module chunks = 1","module.exports = \".videoCanvas {\\r\\n  position: absolute;\\r\\n  z-index: 10;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/photo/photo.component.css\n// module id = 762\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/video/video.component.css\n// module id = 763\n// module chunks = 1","module.exports = \"<md-toolbar>\\r\\n    <md-menu #appMenu=\\\"mdMenu\\\" >\\r\\n       <!-- <button md-menu-item> Cose1 </button>\\r\\n        <button md-menu-item> Cose2 </button>-->\\r\\n        <button md-menu-item *ngFor=\\\"let btn of menubtns\\\" [value]=\\\"btn.value\\\" (click)=selectSource(btn.value)> {{btn.viewValue}} </button>\\r\\n    </md-menu>\\r\\n\\r\\n    <button md-icon-button [mdMenuTriggerFor]=\\\"appMenu\\\" (click)=\\\"updateMenu()\\\">\\r\\n        <md-icon>menu</md-icon>\\r\\n    </button>\\r\\n    <span> Hello {{name}}</span>\\r\\n\\r\\n    <span class=\\\"demo-fill-remaining\\\">   </span>\\r\\n\\r\\n    <button md-raised-button class='toolbar-button'>\\r\\n        Home\\r\\n        <md-icon>home</md-icon>\\r\\n    </button>\\r\\n</md-toolbar>\\r\\n<app-photo></app-photo>\\r\\n<button md-raised-button (click)=\\\"onClick()\\\">\\r\\n  {{text}}\\r\\n  <md-icon>{{icona}}</md-icon>\\r\\n</button>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 764\n// module chunks = 1","module.exports = \"<h1 id=\\\"age\\\">{{age}}</h1>\\n<md-card>\\n<div (window:resize)=\\\"onResize()\\\"  (document:load)=\\\"onResize()\\\">\\n    <canvas id=\\\"videoCanvas\\\" name=\\\"videoCanvas\\\" class=\\\"videoCanvas\\\" (click)=\\\"onClick()\\\"></canvas>\\n    <app-video id=\\\"appVideo\\\" (stop)=\\\"videoButtonClick($event)\\\" (ready)=\\\"onResize()\\\"></app-video>\\n</div>\\n<canvas name=\\\"canvas\\\" id=\\\"canvas\\\" style=\\\"display:none;\\\"></canvas>\\n<!--<button id=\\\"take\\\" (click)=\\\"onClick()\\\">Take a photo</button><br />-->\\n<md-card-content>\\n<p name=\\\"description\\\">{{description}}</p>\\n</md-card-content>\\n</md-card>\\n<p>{{log}}</p>\\n<canvas id=\\\"testCanvas\\\"></canvas>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/photo/photo.component.html\n// module id = 765\n// module chunks = 1","module.exports = \"<video #video width=\\\"640\\\" height=\\\"480\\\" autoplay></video>\\r\\n<br>\\r\\n<md-select name=\\\"videoSelect\\\" placeholder=\\\"webCam\\\" [(ngModel)]=\\\"selectValue\\\" (ngModelChange)=\\\"selectSource($event)\\\" class=\\\"input-form\\\">\\r\\n     <md-option *ngFor=\\\"let cam of cams\\\" [value]=\\\"cam.value\\\" [disabled]=\\\"cam.disabled\\\">\\r\\n        {{ cam.viewValue }}\\r\\n      </md-option>\\r\\n</md-select>\\r\\n<!--<button name=\\\"bottone\\\" (click) = \\\"onClick()\\\">{{bottone}}</button>-->\\r\\n<button md-raised-button (click)=\\\"onClick()\\\">\\r\\n  {{bottone}}\\r\\n  <md-icon>{{icona}}</md-icon>\\r\\n</button>\\r\\n<!--<p>{{vid}}</p>-->\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/video/video.component.html\n// module id = 766\n// module chunks = 1"],"sourceRoot":""}